---
layout: post
title: "15주차"
date: 2021-12-10
excerpt: "15주차 프로젝트 진행 내용"
tags: [project, plan, meeting, 15주차]
comments: true
---

# 15주차
* 빅데이터 구현 마무리 - elasticsearch를 통한 kibana 시각화 방법 알아보기
* 데이터 샘플(가능 할 경우)
* 주피터 노트북 가상화 - 데이터 재검색 및 통합시키기
* 발표 ppt
* 발표 영상 업로드

## 진행상황
* 현재 logstash, elasticsearch를 통한 데이터 import 안됨 [2021.12.11 오후 2:18]
* elk 버전 7.1.0으로 재설치 후 재시도
* logstash로 json 파일 읽어들여 elasticsearch index 조회 성공 [2021.12.11 오후 4:25]
* logstash에서 elasticsearch로 csv 파일 데이터 넣기 실패 [2021.12.11 오후 5:44]
* logstash에서 elasticsearch로 csv 파일 데이터 불러오기 성공 [2021.12.11 오후 6:03]
* 엘라스틱서치에서 디스크 용량 부족으로 에러 발생 [2021.12.12 오전 10:14]


### logstash에서 elasticsearch로 데이터 불러오기
#### csv 데이터
* kaggle : Air pollutants measured in Seoul

<figure>
	<img src="/assets/img/post/kaggle_dust_file.jpg">
</figure>

* seoul_dust_logstash.conf
<script src="https://gist.github.com/riri0602/1a0dbfc510f1efd2a887b5a3eeaa6191.js"></script>

* csv 파일, conf 파일을 logstash.bat 파일이 있는 곳으로 이동
<figure>
	<img src="/assets/img/post/file_위치.jpg">
</figure>

* cmd에서 logstash, seoul_dust_logstash.conf 실행
{% highlight yaml %}
C:\logstash-7.1.0\bin>logstash -f seoul_dust_logstash.conf
{% endhighlight %}

* logstash에서 elasticsearch로 csv 데이터 불러오는 중

{% capture images %} https://cloud.githubusercontent.com/assets/img/post/logstash_elasticsearch_upload.jpg https://cloud.githubusercontent.com/assets/754514/14509714/61a89708-01d6-11e6-8fcd-74b002a060df.png {% endcapture %} {% include gallery images=images caption="Screenshots of Moon Theme" cols=3 %}
https://cloud.githubusercontent.com/assets/img/post/logstash_elasticsearch_upload.jpg
<figure>
	<img src="/assets/img/post/logstash_elasticsearch_upload.jpg">
</figure>

* kibana에서 elasticsearch로 데이터 불러오기 성공 확인
<figure>
	<img src="/assets/img/post/elasticsearch_data.jpg">
</figure>

* index 필터 목록 확인
<figure>
	<img src="/assets/img/post/dust_logstash.jpg">
</figure>

* Time Filter에 사용할 필드 지정
<figure>
	<img src="/assets/img/post/kibana_dust.jpg">
</figure>

* index pattern 생성
<figure>
	<img src="/assets/img/post/creating_index_pattern.jpg">
</figure>

* 엘라스틱서치에서 디스크 용량 부족으로 에러 발생 [2021.12.12 오전 10:14]
{% highlight yaml %}
[2021-12-12T10:04:16,808][WARN ][o.e.c.r.a.DiskThresholdMonitor] [DESKTOP-TE219JC] flood stage disk watermark [95%] exceeded on [dB3cLSxjSYOxxQZzVOBYKA][DESKTOP-TE219JC][C:\Users\klose\Downloads\elasticsearch-7.1.0\data\nodes\0] free: 4.7gb[4%], all indices on this node will be marked read-only
{% endhighlight %}

* 에러가 난 관계로 직접 임포트 하는 방법 시도
